[keyboard]
# NOTE: BLE のデバイス名は 22 bytes 以内（超えるとパニック）
name = "rmk-ferris-sweep"
product_name = "rmk-ferris-sweep"
vendor_id = 0x4c4b
product_id = 0x4643
manufacturer = "RMK"
board = "pi_pico_w"
serial_number = "vial:f64c2b3c:000001"
# NOTE: usb_enable を true から false にするとビルド時にパニックする（no usb info for the chip）
usb_enable = true

[host]
#一時的に無効化
#vial_enabled = false

[storage]
#vialとsplitには必要
enabled = true
# Set `clear_storage` to true to clear all the stored info when the keyboard boots
# ペアリング情報を保持するため通常は false（初回リセット時だけ true）
clear_storage = true

[aliases]
# BLE profile keycodes are User0..User(N+3). Clear bond = User(N+2),
# where N = ble_profiles_num (default 3) in [rmk].
CLR_BT = "User5"

[layout]
rows = 2
cols = 1
layers = 3
# https://rmk.rs/main/docs/configuration/keymap_configuration/keycodes.html
matrix_map = """
(0,0,L)
(1,0,R)
"""

[[layer]]
name = "base_layer"
keys = """
A @CLR_BT
"""

[[layer]]
name = "layer2"
keys = """
Kc1 Kc2
"""

[[layer]]
name = "layer3"
keys = """
Escape Tab
"""

[ble]
enabled = true

[split]
connection = "ble"

[split.central]
rows = 1
cols = 1
row_offset = 1
col_offset = 0
ble_addr = [0x7e, 0xfe, 0x73, 0x9e, 0x66, 0xe3]

[split.central.matrix]
matrix_type = "direct_pin"
direct_pin_low_active = true
direct_pins = [
    ["PIN_15"],
]

# NOTE: The trackpad uses PIN_2/PIN_3 which are now assigned to keys.
# If you want to enable the trackpad, move rdy/rst to free pins.
#[[split.central.input_device.iqs5xx]]
#name = "trackpad"
#rdy = "PIN_3"
#rst = "PIN_2"
#poll_interval_ms = 5

#[split.central.input_device.iqs5xx.i2c]
#instance = "I2C0"
#sda = "PIN_0"
#scl = "PIN_1"
#address = 0x74
#frequency = 400000

[[split.peripheral]]
rows = 1
cols = 1
row_offset = 0
col_offset = 0
ble_addr = [0x18, 0xe2, 0x21, 0x80, 0xc0, 0xc7]

[split.peripheral.matrix]
matrix_type = "direct_pin"
direct_pin_low_active = true
direct_pins = [
    ["PIN_15"],
]

[rmk]
split_peripherals_num = 1
